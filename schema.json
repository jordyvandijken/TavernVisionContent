{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Campaign Schema",
    "type": "object",
    "required": ["title", "description", "thumbnail", "episodes"],
    "properties": {
        "title": {
            "type": "string",
            "description": "The title of the campaign"
        },
        "description": {
            "type": "string",
            "description": "A brief description of the campaign"
        },
        "youtubeplaylistid": {
            "type": "string",
            "description": "YouTube playlist ID for the campaign"
        },
        "thumbnail": {
            "type": "string",
            "format": "uri",
            "description": "URL to the campaign thumbnail image"
        },
        "episodes": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/episode"
            },
            "minItems": 1,
            "description": "Array of episodes in the campaign"
        }
    },
    "definitions": {
        "episode": {
            "type": "object",
            "required": ["title", "youtubeid", "description"],
            "properties": {
                "title": {
                    "type": "string",
                    "description": "The title of the episode"
                },
                "youtubeid": {
                    "type": "string",
                    "pattern": "^[a-zA-Z0-9_-]{11}$",
                    "description": "YouTube video ID (11 characters)"
                },
                "description": {
                    "type": "string",
                    "description": "Detailed description of the episode"
                },
                "segments": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/segment"
                    },
                    "description": "Array of time segments within the episode"
                },
                "people": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/person"
                    },
                    "description": "Array of people involved in the episode"
                }
            }
        },
        "segment": {
            "type": "object",
            "required": ["title", "start", "end", "action"],
            "properties": {
                "title": {
                    "type": "string",
                    "description": "The title/name of the segment"
                },
                "start": {
                    "type": "string",
                    "pattern": "^\\d{1,2}:\\d{2}(:\\d{2})?$",
                    "description": "Start time in MM:SS or HH:MM:SS format"
                },
                "end": {
                    "type": "string",
                    "pattern": "^\\d{1,2}:\\d{2}(:\\d{2})?$",
                    "description": "End time in MM:SS or HH:MM:SS format"
                },
                "action": {
                    "type": "string",
                    "enum": ["skip", "next", ""],
                    "description": "Action to take for this segment - skip it or proceed to next"
                }
            }
        },
        "person": {
            "type": "object",
            "required": ["name", "role"],
            "properties": {
                "name": {
                    "type": "string",
                    "description": "The person's name"
                },
                "role": {
                    "type": "string",
                    "description": "The character or role they play"
                }
            }
        }
    }
}
